<head>
  <script>
    // Setăm câteva cookie-uri de la început
    document.cookie = "session=test GDPR; SameSite=None; Secure";
    document.cookie = "favorite_task=collect Data; SameSite=None; Secure";
    document.cookie = "name=Oeschger; SameSite=None; Secure";
    document.cookie = "favorite_food=tripe; SameSite=None; Secure";
    document.cookie = "test1=Hello; SameSite=None; Secure";
    document.cookie = "test2=World; SameSite=None; Secure";
    document.cookie = "reader=1; SameSite=None; Secure"; // pentru testele 4 și 5

    // Exemplul 1: Afișează toate cookie-urile
    function showCookies() {
      const output = document.getElementById("cookies");
      output.textContent = `> ${document.cookie}`;
    }

    function clearOutputCookies() {
      document.getElementById("cookies").textContent = "";
    }

    // Exemplul 2: Afișează valoarea cookie-ului "test2"
    function showCookieValue() {
      const value = document.cookie
        .split("; ")
        .find((row) => row.startsWith("test2="))
        ?.split("=")[1];

      document.getElementById("cookie-value").textContent = `> ${value}`;
    }

    function clearOutputCookieValue() {
      document.getElementById("cookie-value").textContent = "";
    }

    // Exemplul 3: Execută o acțiune o singură dată
    function doOnce() {
      const cookieExists = document.cookie
        .split("; ")
        .some((row) => row.startsWith("doSomethingOnlyOnce="));

      const output = document.getElementById("do-once");

      if (!cookieExists) {
        document.cookie = "doSomethingOnlyOnce=true; expires=Fri, 31 Dec 9999 23:59:59 GMT; SameSite=None; Secure";
        output.textContent = "> Execută acțiunea acum!";
      } else {
        output.textContent = "> Acțiunea a fost deja executată.";
      }
    }

    function clearOutputDoOnce() {
      document.getElementById("do-once").textContent = "";
    }

    // Exemplul 4: Verifică existența cookie-ului "reader"
    function checkACookieExists() {
      const exists = document.cookie
        .split("; ")
        .some((item) => item.trim().startsWith("reader="));

      const output = document.getElementById("a-cookie-existence");
      output.textContent = exists ? '> Cookie-ul "reader" există' : '> Cookie-ul "reader" NU există';
    }

    function clearOutputACookieExists() {
      document.getElementById("a-cookie-existence").textContent = "";
    }

    // Exemplul 5: Verifică dacă cookie-ul "reader" are valoarea "1"
    function checkCookieHasASpecificValue() {
      const match = document.cookie
        .split("; ")
        .some((item) => item === "reader=1");

      const output = document.getElementById("a-specific-value-of-the-cookie");
      output.textContent = match
        ? '> Cookie-ul "reader" are valoarea "1"'
        : '> Cookie-ul "reader" NU are valoarea "1"';
    }

    function clearASpecificValueOfTheCookie() {
      document.getElementById("a-specific-value-of-the-cookie").textContent = "";
    }
  </script>
</head>
<body>
  <h1>Exemple document.cookie (MDN)</h1>

  <!-- Exemplul 1 -->
  <button onclick="showCookies()">Afișează cookie-urile</button>
  <button onclick="clearOutputCookies()">Șterge</button>
  <div><code id="cookies"></code></div>

  <!-- Exemplul 2 -->
  <button onclick="showCookieValue()">Afișează valoarea cookie-ului "test2"</button>
  <button onclick="clearOutputCookieValue()">Șterge</button>
  <div><code id="cookie-value"></code></div>

  <!-- Exemplul 3 -->
  <button onclick="doOnce()">Execută acțiunea o singură dată</button>
  <button onclick="clearOutputDoOnce()">Șterge</button>
  <div><code id="do-once"></code></div>

  <!-- Exemplul 4 -->
  <button onclick="checkACookieExists()">Verifică dacă există "reader"</button>
  <button onclick="clearOutputACookieExists()">Șterge</button>
  <div><code id="a-cookie-existence"></code></div>

  <!-- Exemplul 5 -->
  <button onclick="checkCookieHasASpecificValue()">Verifică dacă "reader" = 1</button>
  <button onclick="clearASpecificValueOfTheCookie()">Șterge</button>
  <div><code id="a-specific-value-of-the-cookie"></code></div>
</body>

