<head>
  <script>
    // Exemplul 1: Setare și afișare cookie-uri
    document.cookie = "name=Oeschger; SameSite=None; Secure";
    document.cookie = "favorite_food=tripe; SameSite=None; Secure";

    function showCookies() {
      const output = document.getElementById("cookies");
      output.textContent = `> ${document.cookie}`;
    }

    function clearOutputCookies() {
      const output = document.getElementById("cookies");
      output.textContent = "";
    }

    // Exemplul 2: Citirea valorii unui anumit cookie
    document.cookie = "test1=Hello; SameSite=None; Secure";
    document.cookie = "test2=World; SameSite=None; Secure";

    const cookieValue = document.cookie
      .split("; ")
      .find((row) => row.startsWith("test2="))
      ?.split("=")[1];

    function showCookieValue() {
      const output = document.getElementById("cookie-value");
      output.textContent = `> ${cookieValue}`;
    }

    function clearOutputCookieValue() {
      const output = document.getElementById("cookie-value");
      output.textContent = "";
    }

    // Exemplul 3: Executarea unei acțiuni doar o dată
    function doOnce() {
      if (
        !document.cookie
          .split("; ")
          .find((row) => row.startsWith("doSomethingOnlyOnce"))
      ) {
        document.cookie =
          "doSomethingOnlyOnce=true; expires=Fri, 31 Dec 9999 23:59:59 GMT; SameSite=None; Secure";

        const output = document.getElementById("do-once");
        output.textContent = "> Execută acțiunea acum!";
      }
    }

    function clearOutputDoOnce() {
      const output = document.getElementById("do-once");
      output.textContent = "";
    }

    // Exemplul 4: Verificarea existenței unui cookie
    function checkACookieExists() {
      if (
        document.cookie.split(";").some((item) => item.trim().startsWith("reader="))
      ) {
        const output = document.getElementById("a-cookie-existence");
        output.textContent = '> Cookie-ul "reader" există';
      }
    }

    function clearOutputACookieExists() {
      const output = document.getElementById("a-cookie-existence");
      output.textContent = "";
    }

    // Exemplul 5: Verificarea valorii unui cookie
    function checkCookieHasASpecificValue() {
      if (document.cookie.split(";").some((item) => item.includes("reader=1"))) {
        const output = document.getElementById("a-specific-value-of-the-cookie");
        output.textContent = '> Cookie-ul "reader" are valoarea "1"';
      }
    }

    function clearASpecificValueOfTheCookie() {
      const output = document.getElementById("a-specific-value-of-the-cookie");
      output.textContent = "";
    }
  </script>
</head>
<body>
  <p>Bine ai venit la lab</p>
  <h1>Exemple document.cookie</h1>

  <!-- Exemplul 1: Setare și afișare cookie-uri -->
  <button onclick="showCookies()">Afișează cookie-urile</button>
  <button onclick="clearOutputCookies()">Șterge</button>
  <div><code id="cookies"></code></div>

  <!-- Exemplul 2: Citirea valorii unui anumit cookie -->
  <button onclick="showCookieValue()">Afișează valoarea cookie-ului</button>
  <button onclick="clearOutputCookieValue()">Șterge</button>
  <div><code id="cookie-value"></code></div>

  <!-- Exemplul 3: Executarea unei acțiuni doar o dată -->
  <button onclick="doOnce()">Execută acțiunea doar o dată</button>
  <button onclick="clearOutputDoOnce()">Șterge</button>
  <div><code id="do-once"></code></div>

  <!-- Exemplul 4: Verificarea existenței unui cookie -->
  <button onclick="checkACookieExists()">Verifică existența unui cookie</button>
  <button onclick="clearOutputACookieExists()">Șterge</button>
  <div><code id="a-cookie-existence"></code></div>

  <!-- Exemplul 5: Verificarea valorii unui cookie -->
  <button onclick="checkCookieHasASpecificValue()">Verifică valoarea unui cookie</button>
  <button onclick="clearASpecificValueOfTheCookie()">Șterge</button>
  <div><code id="a-specific-value-of-the-cookie"></code></div>
</body>

